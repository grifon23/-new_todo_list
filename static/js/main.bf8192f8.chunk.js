(this.webpackJsonpnew_todo_list=this.webpackJsonpnew_todo_list||[]).push([[0],{38:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},46:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(12),s=n.n(a),i=n(3),o=(n(38),n(2)),l=n(19),j=n(8),u=n.n(j),b=n(16),d=n(4),p=n(1),x=function(e){var t=e.options,n=e.defaultValue,c=e.value,r=e.onChange;return Object(p.jsxs)("select",{value:c,onChange:function(e){return r(e.target.value)},style:{padding:"5px"},children:[Object(p.jsx)("option",{disabled:!0,value:"",children:n}),t.map((function(e){return Object(p.jsx)("option",{value:e.value,children:e.name},e.value)}))]})},O=(n(41),function(e){return Object(p.jsx)("input",Object(d.a)(Object(d.a)({},e),{},{className:"input-ui"}))}),h=function(e){var t=e.filter,n=e.setFilter;return Object(p.jsxs)("div",{children:[Object(p.jsx)(x,{value:t.sort,onChange:function(e){return n(Object(d.a)(Object(d.a)({},t),{},{sort:e}))},defaultValue:"\u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",options:[{value:"title",name:"\u041f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"},{value:"body",name:"\u041f\u043e \u043a\u043e\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044e"}]}),Object(p.jsx)(O,{value:t.query,onChange:function(e){return n(Object(d.a)(Object(d.a)({},t),{},{query:e.target.value}))},style:{marginLeft:"10px"},type:"text",placeholder:"search post"})]})},f=n(32),m=(n(42),["children"]),v=function(e){var t=e.children,n=Object(f.a)(e,m);return Object(p.jsx)("button",{onClick:n.onClick,className:"btn-ui",children:t})},g=function(e){var t=e.create,n=e.setVisible,r=Object(c.useState)({title:"",body:""}),a=Object(i.a)(r,2),s=a[0],o=a[1];return Object(p.jsxs)("form",{style:{display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",padding:"10px"},children:[Object(p.jsx)("h4",{children:"Add post"}),Object(p.jsx)(O,{onChange:function(e){return o(Object(d.a)(Object(d.a)({},s),{},{title:e.target.value}))},value:s.title,type:"text",placeholder:"enter post",style:{marginBottom:"10px"}}),Object(p.jsx)(O,{onChange:function(e){return o(Object(d.a)(Object(d.a)({},s),{},{body:e.target.value}))},value:s.body,type:"text",placeholder:"enter comments"}),Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",marginTop:"20px"},children:[Object(p.jsx)(v,{onClick:function(e){e.preventDefault();var n={title:s.title,body:s.body,id:Date.now()};t(n),o({title:"",body:""})},children:"add posts"}),Object(p.jsx)(v,{onClick:function(e){e.preventDefault(),n(!1)},children:"cancel"})]})]})},y=n(68),C=n(67),w=function(e){var t=e.post,n=e.remove,c=Object(o.g)();return Object(p.jsxs)("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",border:"4px solid rgb(36, 150, 226, 0.5)",margin:"20px 0 20px 0"},children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("strong",{children:[t.id," ",t.title]}),Object(p.jsx)("p",{children:t.body})]}),Object(p.jsxs)("div",{style:{display:"flex"},children:[Object(p.jsx)(v,{onClick:function(){c("comments/post/".concat(t.id))},children:"Comments"}),Object(p.jsx)(v,{onClick:function(){return n(t)},children:"delete"})]})]})},S=(n(43),function(e){var t=e.posts,n=e.title,c=e.remove;return t.length?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{style:{textAlign:"center"},children:n}),Object(p.jsx)(y.a,{className:"todo-list",children:t.map((function(e){return Object(p.jsx)(C.a,{classNames:"item",timeout:500,children:Object(p.jsx)(w,{remove:c,post:e})},e.id)}))})]}):Object(p.jsx)("h1",{style:{textAlign:"center"},children:"No posts"})}),k=(n(46),function(e){var t=e.children,n=e.visible,c=e.setVisible;return Object(p.jsx)("div",{onClick:function(){return c(!1)},className:n?"modal activeModal":"modal",children:Object(p.jsx)("div",{onClick:function(e){return e.stopPropagation()},className:"modalContent",children:t})})}),I=n(20),N=n.n(I),A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return N.a.get("https://jsonplaceholder.typicode.com/posts",{params:{_limit:e,_page:t}})},P=function(e){return N.a.get("https://jsonplaceholder.typicode.com/posts/".concat(e))},L=function(e){return N.a.get("https://jsonplaceholder.typicode.com/posts/".concat(e,"/comments"))},E=n(23);function T(){var e=Object(E.b)({loading:!0,indicator:Object(p.jsx)(E.a,{width:"200"})}),t=e.containerProps,n=e.indicatorEl;return Object(p.jsx)("section",Object(d.a)(Object(d.a)({style:{color:"rgb(36, 150, 226, 1)"}},t),{},{children:n}))}var V=function(e,t){return Math.ceil(e/t)},_=function(e){var t=e.setPage,n=e.totalPage,c=e.page,r=function(e){for(var t=[],n=0;n<e;n++)t.push(n+1);return t}(n);return Object(p.jsx)("div",{className:"wrapper",children:r.map((function(e){return Object(p.jsx)("span",{onClick:function(){return t(e)},className:c===e?"page page-current":"page",children:e},e)}))})},D=function(e,t,n){var r=function(e,t){return Object(c.useMemo)((function(){return t?Object(l.a)(e).sort((function(e,n){return e[t].localeCompare(n[t])})):e}),[t,e])}(e,t);return Object(c.useMemo)((function(){return r.filter((function(e){return e.title.toLowerCase().includes(n)}))}),[n,r])},M=Object(c.createContext)(null),q=function(){var e=Object(c.useState)({sort:"",query:""}),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(i.a)(a,2),j=s[0],d=s[1],x=Object(c.useState)([]),O=Object(i.a)(x,2),f=O[0],m=O[1],y=Object(c.useState)(0),C=Object(i.a)(y,2),w=C[0],I=C[1],N=Object(c.useState)(10),P=Object(i.a)(N,2),L=P[0],E=(P[1],Object(c.useState)(1)),q=Object(i.a)(E,2),F=q[0],R=q[1],U=Object(c.useState)(!1),B=Object(i.a)(U,2),J=B[0],z=B[1],G=Object(o.g)(),H=Object(c.useContext)(M).setIsAuth,K=function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,z(!0),e.next=4,A(L,F);case 4:t=e.sent,m(t.data),n=t.headers["x-total-count"],I(V(n,L)),z(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),c=e.t0,G("error/".concat(c),{state:c}),console.log("error",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){K()}),[F]);var Q=localStorage.getItem("userName"),W=D(f,n.sort,n.query),X=function(e){m(f.filter((function(t){return t.id!==e.id})))};return Object(p.jsxs)("div",{style:{width:"80%",marginLeft:"auto",marginRight:"auto"},children:[Object(p.jsxs)("h1",{children:["User: ",Q]}),Object(p.jsx)("dix",{style:{display:"flex",justifyContent:"right"},children:Object(p.jsx)(v,{onClick:function(){localStorage.removeItem("password"),localStorage.removeItem("userName"),H(!1)},children:"LogOut"})}),Object(p.jsx)(v,{onClick:function(){return d(!0)},children:"Create post"}),Object(p.jsx)(h,{filter:n,setFilter:r}),J?Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"50px"},children:Object(p.jsx)(T,{})}):Object(p.jsx)(S,{posts:W,remove:X,title:"Post list"}),Object(p.jsx)(k,{visible:j,setVisible:d,children:Object(p.jsx)(g,{create:function(e){m([].concat(Object(l.a)(f),[e])),d(!1)},remove:X,setVisible:d})}),Object(p.jsx)(_,{setPage:R,totalPage:w,page:F})]})},F=function(e){var t=e.com,n=e.index;return Object(p.jsx)("li",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px",border:"4px solid rgb(36, 150, 226, 0.5)",margin:"20px 0 20px 0"},children:Object(p.jsxs)("div",{children:[Object(p.jsxs)("strong",{children:[n+1," ",t.name]}),Object(p.jsx)("p",{children:t.body}),Object(p.jsxs)("p",{children:["Email: ",t.email]})]})},t.id)},R=function(e){var t=e.comments;return Object(p.jsx)("div",{children:t.map((function(e,t){return Object(p.jsx)(F,{com:e,index:t})}))})},U=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(i.a)(a,2),l=s[0],j=s[1],d=Object(c.useState)({}),x=Object(i.a)(d,2),O=x[0],h=x[1],f=Object(o.h)().id,m=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,P(f);case 4:t=e.sent,h(t.data),j(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("erorr",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,L(f);case 4:t=e.sent,r(t.data),j(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("erorr",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){m(),v()}),[]),l?Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"50px"},children:Object(p.jsx)(T,{})}):Object(p.jsx)("div",{children:!n.length>0?Object(p.jsx)("h1",{style:{textAlign:"center",marginTop:"100px"},children:"No comments"}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("h1",{children:["Comments post: ",O.id]}),Object(p.jsxs)("h2",{children:["Post: ",O.title]}),Object(p.jsx)(R,{comments:n})]})})},B=function(){var e=Object(o.f)();return Object(p.jsx)("div",{children:Object(p.jsxs)("h1",{children:[" Ups...erorr url:",e.pathname," "]})})},J=function(){var e=Object(c.useContext)(M),t=e.setIsAuth,n=(e.isAuth,Object(c.useState)({name:"",password:""})),r=Object(i.a)(n,2),a=r[0],s=r[1];return Object(p.jsxs)("form",{style:{marginLeft:"auto",marginRight:"auto",width:"300px",border:"1px solid rgb(36, 150, 226, 0.5)",padding:"20px",borderRadius:"10px",marginTop:"50px"},children:[Object(p.jsx)("h1",{style:{textAlign:"center"},children:"Autorization"}),Object(p.jsx)("h3",{children:"User name"}),Object(p.jsx)(O,{type:"text",placeholder:"user name",value:a.name,onChange:function(e){return s(Object(d.a)(Object(d.a)({},a),{},{name:e.target.value}))}}),Object(p.jsx)("h3",{children:"Password"}),Object(p.jsx)(O,{type:"password",placeholder:"password",value:a.password,onChange:function(e){return s(Object(d.a)(Object(d.a)({},a),{},{password:e.target.value}))}}),Object(p.jsxs)("div",{style:{marginTop:"20px",display:"flex",justifyContent:"space-between"},children:[Object(p.jsx)(v,{onClick:function(e){e.preventDefault(),""!==a.password&&(t(!0),localStorage.setItem("password",a.password),localStorage.setItem("userName",a.name))},children:"Enter"}),Object(p.jsx)(v,{children:"Cancel"})]})]})},z=[{path:"/",element:Object(p.jsx)(q,{}),exact:!0},{path:"comments/post/:id",element:Object(p.jsx)(U,{}),exact:!0},{path:"error/:error",element:Object(p.jsx)(B,{}),exact:!0}],G=[{path:"auth",element:Object(p.jsx)(J,{}),exact:!0}];function H(){var e=Object(c.useContext)(M),t=e.isAuth;return e.isLoading?Object(p.jsx)(T,{}):t?Object(p.jsxs)(o.d,{children:[z.map((function(e){return Object(p.jsx)(o.b,{path:e.path,element:e.element,exact:e.exact},e.path)})),Object(p.jsx)(o.b,{path:"*",element:Object(p.jsx)(o.a,{to:"/"})})]}):Object(p.jsxs)(o.d,{children:[G.map((function(e){return Object(p.jsx)(o.b,{path:e.path,element:e.element,exact:e.exact},e.path)})),Object(p.jsx)(o.b,{path:"*",element:Object(p.jsx)(o.a,{to:"/auth"})})]})}var K=n(14);var Q=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!0),s=Object(i.a)(a,2),o=s[0],l=s[1];return Object(c.useEffect)((function(){localStorage.getItem("password")&&localStorage.getItem("userName")&&r(!0),l(!1)}),[]),Object(p.jsx)(M.Provider,{value:{isAuth:n,setIsAuth:r,isLoading:o,setIsLoading:l},children:Object(p.jsx)(K.a,{children:Object(p.jsx)(H,{})})})};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(Q,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.bf8192f8.chunk.js.map